<!DOCTYPE html>
<html>
<head>
  <title>New Note | NoteHub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link href="../logo.png" rel="icon" />
  <link href="../editor-styling.css" rel="stylesheet" />
  
  <script src="formatting.js"></script>
  <script src="../query-strings.js"></script>
  <script src="miscellaneous.js"></script>
  <script src="filing.js"></script>
  <script src="../accounts/accounts.js"></script> <!--OK-->
</head>
  
<body onload="Autorun();">
  <div id="Menu-IconBar" data-open="closed">
    <div class="IconBar-Function" onclick="SaveNoteAs(true);">
      <table style="border-spacing: 0px;"><tbody><tr><td><img src="icons/plus.png" width="32" height="32"></td><td>&nbsp;&nbsp;Save&nbsp;Note&nbsp;As</td></tr></tbody></table>
    </div>
    <div class="IconBar-Function" onclick="SaveNote();">
      <table style="border-spacing: 0px;"><tbody><tr><td><img src="icons/save.png" width="32" height="32"></td><td>&nbsp;&nbsp;Save&nbsp;Note</td></tr></tbody></table>
    </div>
    <div class="IconBar-Function" onclick="ViewNotebook();">
      <table style="border-spacing: 0px;"><tbody><tr><td><img src="icons/folder.png" width="32" height="32"></td><td>&nbsp;&nbsp;This&nbsp;Notebook</td></tr></tbody></table>
    </div>
    <hr>
    <div class="IconBar-Function">
      <table style="border-spacing: 0px;"><tbody><tr><td><img src="icons/document.png" width="32" height="32"></td><td>&nbsp;&nbsp;New&nbsp;Note</td></tr></tbody></table>
    </div>
    <div class="IconBar-Function">
      <table style="border-spacing: 0px;"><tbody><tr><td><img src="icons/worldwide.png" width="32" height="32"></td><td>&nbsp;&nbsp;Browse&nbsp;NoteHub</td></tr></tbody></table>
    </div>
    <hr>
    <div class="IconBar-Function" id="MyAccount" onclick="window.location.href = '/account-manager/';">
      <table style="border-spacing: 0px;"><tbody><tr><td><img src="icons/imperial-user.png" width="32" height="32"></td><td>&nbsp;&nbsp;My&nbsp;Account</td></tr></tbody></table>
    </div>
    <div class="IconBar-Function">
      <table style="border-spacing: 0px;"><tbody><tr><td><img src="icons/login.png" width="32" height="32"></td><td>&nbsp;&nbsp;<span id="LoggedInOut">Logout</span></td></tr></tbody></table>
    </div>
    <hr>
    <div class="IconBar-Function" id="GetEditLink" onclick="">
      <table style="border-spacing: 0px;"><tbody><tr><td><img src="icons/unlink.png" width="32" height="32"></td><td>&nbsp;&nbsp;Get&nbsp;Editing&nbsp;Link</td></tr></tbody></table>
    </div>
  </div>
  
  <div id="Header">
    <span onclick="RevealIconDescriptors();" style="cursor: pointer;">&#9776;</span>&nbsp;
    <span style="font-weight: lighter">Note</span><span><b>Hub</b></span>
  </div>
  
  <div id="Title"><input id="Title-Title" value="New Note" /></div>
  <div id="TopBar">
    <table><tr>
      <td><div class="FormattingButton" data-image="false" onmousedown="SetBold(event);" id="Formatting-FontBold">
        <b>B</b>
      </div></td>
      <td><div class="FormattingButton" data-image="false" onmousedown="SetItalic(event);" id="Formatting-FontItalic">
        <i>I</i>
      </div></td>
      <td><div class="FormattingButton" data-image="false" onmousedown="SetUnderline(event);" id="Formatting-FontUnderline">
        <u>U</u>
      </div></td>
      
      <td><select class="FormattingSelect" onchange="UpdateFontFamily(event);" id="Formatting-FontFamily">
        <optgroup label="Generic Fonts">
          <option style="font-family: 'Arial';">Arial</option>
          <option style="font-family: 'Calibri';" selected="selected">Calibri</option>
          <option style="font-family: 'Cambria';">Cambria</option>
          <option style="font-family: 'Comic Sans MS', 'Comic Sans';">Comic Sans MS</option>
          <option style="font-family: 'Consolas';">Consolas</option>
          <option style="font-family: 'Open Sans';">Open Sans</option>
          <option style="font-family: 'Times New Roman';">Times New Roman</option>
          <option style="font-family: 'Segoe UI';" selected="selected">Segoe UI</option>
          <option style="font-family: 'Trebuchet';">Trebuchet</option>
          <option style="font-family: 'Verdana';">Verdana</option>
        </optgroup>

        <optgroup label="Generic Fonts">
          <option style="font-family: 'monospace';">Monospace</option>
          <option style="font-family: 'sans-serif';">Sans-Serif</option>
          <option style="font-family: 'serif';">Serif</option>
        </optgroup>
      </select></td>
      
      <td><select class="FormattingSelect" onchange="UpdateFontSize(event);" id="Formatting-FontSize">
        <option>8</option>
        <option>10</option>
        <option>11</option>
        <option>12</option>
        <option>14</option>
        <option selected="selected">18</option>
        <option>24</option>
        <option>26</option>
        <option>28</option>
        <option>36</option>
        <option>48</option>
        <option>72</option>
        <option>144</option>
      </select></td>
      
      <td><div class="FormattingButton" onmousedown="RemoveFormatting(event);" id="Formatting-PointList" data-image="true">
        <img src="icons/error.png" height="25" />
        <span class="FormattingButton-Text">Clear Formatting</span>
      </div></td>
      
      <td><span class="TopBar-Separator"></span></td>

      <td><div class="FormattingButton" onmousedown="InsertBulletedList(event);" id="Formatting-NumberedList" data-image="true">
        <img src="icons/list.png" height="25" />
        <span class="FormattingButton-Text">Numbered List</span>
      </div></td>

      <td><div class="FormattingButton" onmousedown="InsertNumberedList(event);" id="Formatting-PointList" data-image="true">
        <img src="icons/list-button.png" height="25" />
        <span class="FormattingButton-Text">Bulleted List</span>
      </div></td>
      
      <td><div class="FormattingButton" onmousedown="Line(event);" id="Formatting-PointList" data-image="true">
        <img src="icons/subtract.png" height="25" />
        <span class="FormattingButton-Text">Horizontal Rule</span>
      </div></td>
      
      <td><div class="FormattingButton" onmousedown="Section(event);" title="Inserts a section, with different background colour and a heading." id="Formatting-PointList" data-image="true">
        <img src="icons/section.png" height="25" />
        <span class="FormattingButton-Text">Section</span>
      </div></td>

      <td><span class="TopBar-Separator"></span></td>

      <td><div class="FormattingButton" onmousedown="Outdent(event);" id="Formatting-NumberedList" data-image="true">
        <img src="icons/left-indent.png" height="25" />
        <span class="FormattingButton-Text">Outdent</span>
      </div></td>

      <td><div class="FormattingButton" onmousedown="Indent(event);" id="Formatting-PointList" data-image="true">
        <img src="icons/right-indent.png" height="25" />
        <span class="FormattingButton-Text">Indent</span>
      </div></td>
    </tr></table>
  </div>
  
  <div id="Editor" contenteditable="true" onkeyup="FormattingToolbarUpdate();" onclick="FormattingToolbarUpdate();" onblur="event.preventDefault();" oncontextmenu="ContextMenu(global);">This is a note.</div>
  
  <div id="BottomPickerBar">
    <div id="BottomPickerBar-HighlightPick" class="PickerBarPicker">
      <label style="font-size: 20px;">Highlight Colour</label>
      <br>
      <div style="overflow-x: scroll; margin-top: 5px;">
        <table>
          <tr>
            <td class="Picker-Colour" style="background-color: white; color: black;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: gray; color: white;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: black; color: white;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: red; color: white;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: green; color: white;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: blue; color: white;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: lightblue; color: black;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: #2196f3; color: white;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: yellow; color: black;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: beige;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: rgb(1, 152, 255);">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: orange;">&nbsp;&nbsp;&nbsp;</td>
            <td class="Picker-Colour" style="background-color: white; color: black;">Transparent</td>
            <td class="Picker-Colour" style="background-color: white; color: black;">More&nbsp;colours...</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <!--MODAL DIALOGS-->

  <div id="Modal-WhatWorks" class="Modal">
    <div class="Modal-Title">Alpha Notice</div>

    <div class="Modal-Content">
      NoteHub's in a very early stage of development (alpha). Some features in the editor, such as font families, font size and the like, may only partially work, or may not work at all.
      <br><br>As such, do not take this build of NoteHub as an indication of the final product's completeness or quality.
    </div>

    <div class="Modal-Footer">
      <button onclick="CloseNotice();" style="background-color: seagreen; color: white;" class="Modal-Button">OK</button>
    </div>
  </div>

  <div id="Modal-Overlay">
    We're retrieving your note from our servers. This shouldn't take long...
    <br><br>
    <img src="../resources/loading.svg" width="128" height="128" />
  </div>

  <div id="Modal-AuthRequired" class="Modal">
    <div class="Modal-Title">Authentication Required :(</div>

    <div class="Modal-Content">
      You'll need to sign into NoteHub before saving a private note or viewing your notebooks. You can sign in from <a href="https://notehub.ga/" target="_blank">our homepage</a>. After signing in, close this dialog and attempt to save your private note again.
    </div>

    <div class="Modal-Footer">
      <button onclick="PublicNote();" style="background-color: seagreen; color: white;" class="Modal-Button">SAVE AS ANONYMOUS</button> <!--Ask user for tags-->
      <button class="Modal-Button" onclick="CloseModal();">CLOSE</button>
    </div>
  </div>
  
  <div id="Modal-SaveFilePicker" class="Modal">
    <div class="Modal-Title">Save Note As...</div>

    <div class="Modal-Content">
      Select a topic and notebook to save your note under.

      <div id="Modal-SaveFilePicker-HierachyLevel" class="FilePicker-HierachyLevel">
        <a href="" style="text-decoration: none; color: white;" id="Modal-SaveFilePicker-HierachyLevel-Back">< back</a>
        <span style="float: right; font-weight: bold;" id="Modal-SaveFilePicker-HierachyLevel-Name">Topics</span>
      </div>
      <div id="Modal-SaveFilePicker-List" style="background-color: #ebebeb; height: 144.5px; overflow-y: scroll;"></div>

      <br>

      Note Name:<br>
      <input id="Modal-SaveFilePicker-SaveName" class="FilePicker-TextBox" value="New Note" onkeyup="CheckNoteName('Modal-SaveFilePicker', this);" />
      <div class="FilePicker-TextBox-after"></div>

      <br>

      <div id="Modal-SaveFilePicker-WillBeSuggestion" style="color: red; display: none;">
        Your note will be saved as a suggestion of the above note.
      </div>
    </div>

    <div class="Modal-Footer">
      <button class="Modal-Button" id="Modal-SaveFilePicker-SaveAs" onclick="SaveNoteAs(false);" style="background-color: seagreen; color: white;">SAVE AS</button>
      <button class="Modal-Button" onclick="CloseModal();">CANCEL</button> <!--Ask user for tags-->
      <button class="Modal-Button" onclick="PrivateNote();">PRIVATE</button>
    </div>
  </div>
  
  <div id="Modal-SaveAdvanced" class="Modal">
    <div class="Modal-Title">Advanced Save Options</div>

    <div class="Modal-Content">
      Your can save this note as a private note from here. You have 10 of 10 MB of private notes available.

      <div id="Modal-SaveAdvanced-HierachyLevel" class="FilePicker-HierachyLevel">
        <span style="font-weight: bold;" id="Modal-SaveAdvanced-HierachyLevel-Name">Your Private Notes</span>
      </div>
      <div id="Modal-SaveAdvanced-List" style="background-color: #ebebeb; height: 144.5px; overflow-y: scroll;">
        Looks like you don't have any private notes!
      </div>

      <br>

      Note Name:<br>
      <input id="Modal-SaveAdvanced-SaveName" class="FilePicker-TextBox" value="New Note" onkeyup="CheckNoteName('Modal-AdvancedSave', this);" />
      <div class="FilePicker-TextBox-after"></div>

      <br>

      <div id="Modal-SaveAdvanced-WillBeSuggestion" style="color: red; display: none;">
        This note will overwrite the above note.
      </div>
    </div>

    <div class="Modal-Footer">
      <button class="Modal-Button" id="Modal-SaveAdvanced-SaveAs" disabled="disabled" onclick="SaveNoteAs(false);" style="background-color: seagreen; color: white;">SAVE AS</button>
      <button class="Modal-Button" onclick="PublicNote();">CANCEL</button> <!--Ask user for tags-->
    </div>
  </div>
  
  <div id="Modal-SavingNote" class="Modal">
    <div class="Modal-Title">Saving Note...</div>

    <div class="Modal-Content" style="text-align: -webkit-center;">
      Your note's being saved to NoteHub's servers. We'll be done in a jiffy...
      <br><br>
      <img src="../resources/loading.svg" width="128" height="128" id="Modal-SavingNote-Status" />
    </div>

    <div class="Modal-Footer">
      <button class="Modal-Button" onclick="CloseModal();" style="background-color: seagreen; color: white;">CLOSE</button>
    </div>
  </div>
</body>
</html>